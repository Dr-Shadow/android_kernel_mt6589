#include <mach/mt_typedefs.h>

#define TEMPERATURE_T0                  110
#define TEMPERATURE_T1                  0
#define TEMPERATURE_T2                  25
#define TEMPERATURE_T3                  50
#define TEMPERATURE_T                   255 // This should be fixed, never change the value

#define FG_METER_RESISTANCE 	0

#define MAX_BOOTING_TIME_FGCURRENT	1*10 // 10s

#if defined(CONFIG_POWER_EXT)
#define OCV_BOARD_COMPESATE	72 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
#else
#define OCV_BOARD_COMPESATE	0 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
#endif

#define Q_MAX_POS_50	2097
#define Q_MAX_POS_25	2089
#define Q_MAX_POS_0		2116
#define Q_MAX_NEG_10	2110

#define Q_MAX_POS_50_H_CURRENT	2080
#define Q_MAX_POS_25_H_CURRENT	2072
#define Q_MAX_POS_0_H_CURRENT	2055
#define Q_MAX_NEG_10_H_CURRENT	1946

#define R_FG_VALUE 				20 // mOhm, base is 20
#define CURRENT_DETECT_R_FG	10  //1mA

#define OSR_SELECT_7			0

#define CAR_TUNE_VALUE			100 //1.00

/////////////////////////////////////////////////////////////////////
// <DOD, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

#ifndef VENDOR_EDIT
// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4193},
	{2  , 4174},
	{3  , 4157},
	{5  , 4140},
	{7  , 4124},
	{8  , 4109},
	{10 , 4093},
	{11 , 4081},
	{13 , 4068},
	{15 , 4051},
	{16 , 4031},
	{18 , 4010},
	{20 , 3993},
	{21 , 3980},
	{23 , 3968},
	{25 , 3956},
	{26 , 3945},  
	{28 , 3933}, 
	{30 , 3921},
	{31 , 3909},
	{33 , 3898},  
	{34 , 3887},
	{36 , 3877},
	{38 , 3867},
	{39 , 3858},
	{41 , 3850},
	{43 , 3842},
	{44 , 3834},
	{46 , 3827},
	{48 , 3821},
	{49 , 3815},
	{51 , 3809},
	{52 , 3804},
	{54 , 3798},
	{56 , 3794},
	{57 , 3789},
	{59 , 3785},
	{61 , 3781},
	{62 , 3777},
	{64 , 3774},
	{66 , 3771},
	{67 , 3769},
	{69 , 3766},
	{71 , 3763},
	{72 , 3759},
	{74 , 3755},
	{75 , 3751},
	{77 , 3747},
	{79 , 3742},
	{80 , 3736},
	{82 , 3730},
	{84 , 3722},  
	{85 , 3715},
	{87 , 3709},
	{89 , 3704},
	{90 , 3698},
  {92  , 3690},
	{94 , 3673},
	{95 , 3639},
	{97 , 3585},
	{98 , 3540},
	{98 , 3512},
	{99 , 3489},
	{99 , 3469},
	{99 , 3451},
	{100, 3437},
	{100, 3424},
	{100, 3412},
	{100, 3402},
	{100, 3392},
	{100, 3384},
	{100, 3376},
	{100, 3369},
	{100, 3363},
	{100, 3357},
	{100, 3350},
	{100, 3345},
	{100, 3340},
	{100, 3337},
	{100, 3332},
	{100, 3332}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4198},
	{2  , 4179},
	{3  , 4162},
	{5  , 4145},
	{7  , 4129},
	{8  , 4114},
	{10 , 4098},
	{11 , 4084},
	{13 , 4072},
	{15 , 4058},
	{16 , 4040},
	{18 , 4021},
	{20 , 4005},
	{21 , 3992},
	{23 , 3981},
	{25 , 3970},
	{26 , 3958},  
	{28 , 3947}, 
	{29 , 3934},
	{31 , 3920},
	{33 , 3908},  
	{34 , 3896},
	{36 , 3884},
	{38 , 3873},
	{39 , 3863},
	{41 , 3854},
	{43 , 3846},
	{44 , 3838},
	{46 , 3830},
	{47  , 3824},         
	{49 , 3818},
	{51 , 3812},
	{52 , 3807},
	{54 , 3802},
	{56 , 3797},
	{57 , 3793},
	{59 , 3789},
	{60 , 3785},
	{62 , 3782},
	{64 , 3779},
	{65 , 3776},
	{67 , 3773},
	{69 , 3771},
	{70 , 3768},
	{72  , 3764},         
	{74 , 3762},
	{75 , 3757},
	{77 , 3753},
	{78 , 3749},
	{80 , 3743},
	{82 , 3736},
	{83  , 3730},         
	{85 , 3722},
	{87 , 3713},
	{88 , 3704},
	{90 , 3698},
	{92 , 3694},
	{93 , 3688},
	{95 , 3673},
	{97 , 3627},
	{98 , 3549},
	{100, 3425},
	{100, 3350},
	{100, 3305},
	{100, 3275},
	{100, 3253},
	{100, 3238},
	{100, 3224},
	{100, 3215},
	{100, 3205},
	{100, 3199},
	{100, 3194},
	{100, 3188},
	{100, 3183},
	{100, 3180},
	{100, 3174},
	{100, 3170},
	{100, 3166},
	{100, 3164},
	{100, 3164},
	{100, 3164}
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4184},
	{1  , 4166},
	{3  , 4150},
	{4  , 4136},
	{6  , 4122},
	{7  , 4109},
	{9  , 4095},
	{10 , 4082},
	{11 , 4070},
	{13 , 4058},
	{14 , 4046},
	{16 , 4033},
	{17 , 4021},
	{19 , 4009},
	{20 , 3999},
	{22 , 3988},
	{23 , 3979},  
	{24 , 3969}, 
	{26 , 3959},
	{27 , 3950},
	{29 , 3941},  
	{30 , 3932},
	{32 , 3923},
	{33 , 3913},
	{35 , 3904},
	{36 , 3893},
	{37 , 3880},
	{39 , 3867},
	{40 , 3855},
	{42 , 3846},
	{43 , 3838},
	{45 , 3831},
	{46 , 3824},
	{47 , 3819},
	{49 , 3814},
	{50 , 3810},
	{52 , 3805},
	{53 , 3801},
	{55 , 3797},
	{56 , 3793},
	{57 , 3789},
	{59 , 3786},
	{60 , 3783},
	{62 , 3780},
	{63 , 3778},
	{65 , 3775},
	{66 , 3773},
	{68 , 3770},
	{69 , 3767},
	{70 , 3761},
	{72 , 3757},
	{73 , 3752},  
	{75 , 3746},
	{76 , 3741},
	{78 , 3737},
	{79 , 3733},
	{81 , 3729},
	{82 , 3722},
	{83 , 3715},
	{85 , 3709},
	{86 , 3702},
	{88 , 3693},
	{89 , 3684},
	{91 , 3681},
	{92 , 3678},
	{93 , 3674},
	{95 , 3663},
	{96 , 3625},
	{98 , 3564},
	{99 , 3478},
	{100, 3343},
	{100, 3281},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266},
	{100, 3266}  
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4188},
	{1  , 4172},
	{3  , 4156},
	{4  , 4141},
	{6  , 4126},
	{7  , 4113},
	{9  , 4099},
	{10 , 4085},
	{11 , 4073},
	{13 , 4060},
	{14 , 4048},
	{16 , 4036},
	{17 , 4024},
	{19 , 4012},
	{20 , 4001},
	{21  , 3990},         
	{23 , 3980},  
	{24 , 3969}, 
	{26 , 3959},
	{27 , 3949},
	{29 , 3939},  
	{30 , 3930},
	{31 , 3922},
	{33 , 3913},
	{34 , 3903},
	{36 , 3895},
	{37 , 3886},
	{39 , 3874},
	{40 , 3860},
	{41 , 3849},
	{43 , 3839},
	{44 , 3832},
	{46 , 3825},
	{47 , 3819},
	{49 , 3813},
	{50 , 3808},
	{52 , 3803},
	{53 , 3799},
	{54 , 3796},
	{56 , 3791},
	{57 , 3788},
	{59 , 3785},
	{60 , 3782},
	{62 , 3778},
	{63 , 3776},
	{64 , 3773},
	{66 , 3770},
	{67 , 3768},
	{69 , 3764},
	{70 , 3756},
	{71 , 3746},
	{73 , 3741},  
	{74 , 3735},
	{76 , 3729},
	{77 , 3725},
	{79 , 3720},
	{80 , 3717},
	{81 , 3712},
	{83 , 3705},
	{84 , 3698},
	{86 , 3692},
	{87 , 3685},
	{89 , 3674},
	{90 , 3669},
	{91 , 3667},
	{93 , 3663},
	{94 , 3657},
	{96 , 3634},
	{97 , 3585},
	{99 , 3515},
	{100, 3411},
	{100, 3273},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260},
	{100, 3260}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};      
#else
// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{	0	,	4274	},
	{	2	,	4229	},
	{	3	,	4196	},
	{	5	,	4174	},
	{	7	,	4155	},
	{	8	,	4138	},
	{	10	,	4122	},
	{	12	,	4106	},
	{	13	,	4093	},
	{	15	,	4078	},
	{	16	,	4062	},
	{	18	,	4045	},
	{	20	,	4028	},
	{	21	,	4013	},
	{	23	,	3998	},
	{	25	,	3984	},
	{	26	,	3971	},
	{	28	,	3959	},
	{	30	,	3948	},
	{	31	,	3936	},
	{	33	,	3923	},
	{	35	,	3912	},
	{	36	,	3900	},
	{	38	,	3888	},
	{	40	,	3876	},
	{	41	,	3866	},
	{	43	,	3856	},
	{	45	,	3846	},
	{	46	,	3837	},
	{	48	,	3829	},
	{	50	,	3822	},
	{	51	,	3815	},
	{	53	,	3810	},
	{	54	,	3804	},
	{	56	,	3798	},
	{	58	,	3794	},
	{	59	,	3789	},
	{	61	,	3785	},
	{	63	,	3782	},
	{	64	,	3779	},
	{	66	,	3776	},
	{	68	,	3773	},
	{	69	,	3770	},
	{	71	,	3766	},
	{	73	,	3763	},
	{	74	,	3759	},
	{	76	,	3753	},
	{	78	,	3748	},
	{	79	,	3742	},
	{	81	,	3734	},
	{	83	,	3727	},
	{	84	,	3717	},
	{	86	,	3708	},
	{	88	,	3697	},
	{	89	,	3684	},
	{	91	,	3670	},
	{	92	,	3655	},
	{	94	,	3646	},
	{	95	,	3641	},
	{	95	,	3636	},
	{	96	,	3632	},
	{	96	,	3627	},
	{	97	,	3623	},
	{	97	,	3619	},
	{	98	,	3615	},
	{	98	,	3611	},
	{	99	,	3607	},
	{	99	,	3603	},
	{	99	,	3600	},
	{	99	,	3597	},
	{	100	,	3593	},
	{	100	,	3589	},
	{	100	,	3587	},
	{	100	,	3400	}

};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{	0 	,	4270	},
	{	2 	,	4245	},
	{	3 	,	4226	},
	{	5 	,	4209	},
	{	6 	,	4190	},
	{	8 	,	4174	},
	{	9 	,	4158	},
	{	11 	,	4143	},
	{	12 	,	4128	},
	{	14 	,	4113	},
	{	15 	,	4098	},
	{	17 	,	4085	},
	{	18 	,	4071	},
	{	20 	,	4056	},
	{	22 	,	4040	},
	{	23 	,	4025	},
	{	25 	,	4011	},
	{	26 	,	3996	},
	{	28 	,	3983	},
	{	29 	,	3971	},
	{	31 	,	3960	},
	{	32 	,	3949	},
	{	34 	,	3937	},
	{	35 	,	3926	},
	{	37 	,	3913	},
	{	38 	,	3901	},
	{	40 	,	3890	},
	{	42 	,	3878	},
	{	43 	,	3867	},
	{	45 	,	3858	},
	{	46 	,	3849	},
	{	48 	,	3840	},
	{	49 	,	3833	},
	{	51 	,	3826	},
	{	52 	,	3820	},
	{	54 	,	3813	},
	{	55 	,	3809	},
	{	57 	,	3803	},
	{	59 	,	3798	},
	{	60 	,	3794	},
	{	62 	,	3789	},
	{	63 	,	3786	},
	{	65 	,	3783	},
	{	66 	,	3780	},
	{	68 	,	3777	},
	{	69 	,	3775	},
	{	71 	,	3773	},
	{	72 	,	3771	},
	{	74 	,	3766	},
	{	75 	,	3761	},
	{	77 	,	3756	},
	{	79 	,	3750	},
	{	80 	,	3744	},
	{	82 	,	3739	},
	{	83 	,	3730	},
	{	85 	,	3722	},
	{	86 	,	3711	},
	{	88 	,	3701	},
	{	89 	,	3687	},
	{	91 	,	3673	},
	{	92 	,	3662	},
	{	94 	,	3650	},
	{	95 	,	3632	},
	{	97 	,	3597	},
	{	98 	,	3560	},
	{	98 	,	3534	},
	{	99 	,	3513	},
	{	99 	,	3497	},
	{	99 	,	3484	},
	{	100 	,	3472	},
	{	100 	,	3462	},
	{	100 	,	3454	},
	{	100 	,	3448	},
	{	100 	,	3400	}

};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{	0 	,	4298	},
	{	1 	,	4276	},
	{	3 	,	4257	},
	{	4 	,	4238	},
	{	6 	,	4221	},
	{	7 	,	4205	},
	{	9 	,	4188	},
	{	10 	,	4172	},
	{	12 	,	4157	},
	{	13 	,	4142	},
	{	15 	,	4126	},
	{	16 	,	4111	},
	{	18 	,	4097	},
	{	19 	,	4083	},
	{	21 	,	4070	},
	{	22 	,	4056	},
	{	24 	,	4042	},
	{	25 	,	4027	},
	{	27 	,	4013	},
	{	28 	,	4001	},
	{	30 	,	3989	},
	{	31 	,	3978	},
	{	33 	,	3968	},
	{	34 	,	3957	},
	{	36 	,	3946	},
	{	37 	,	3933	},
	{	39 	,	3922	},
	{	40 	,	3909	},
	{	42 	,	3896	},
	{	43 	,	3883	},
	{	44 	,	3872	},
	{	46 	,	3861	},
	{	47 	,	3852	},
	{	49 	,	3844	},
	{	50 	,	3836	},
	{	52 	,	3829	},
	{	53 	,	3824	},
	{	55 	,	3818	},
	{	56 	,	3812	},
	{	58 	,	3807	},
	{	59 	,	3803	},
	{	61 	,	3798	},
	{	62 	,	3794	},
	{	64 	,	3790	},
	{	65 	,	3787	},
	{	67 	,	3784	},
	{	68 	,	3780	},
	{	70 	,	3777	},
	{	71 	,	3774	},
	{	73 	,	3768	},
	{	74 	,	3761	},
	{	76 	,	3755	},
	{	77 	,	3749	},
	{	79 	,	3744	},
	{	80 	,	3739	},
	{	81 	,	3734	},
	{	83 	,	3728	},
	{	84 	,	3720	},
	{	86 	,	3712	},
	{	87 	,	3704	},
	{	89 	,	3692	},
	{	90 	,	3682	},
	{	92 	,	3677	},
	{	93 	,	3671	},
	{	95 	,	3661	},
	{	96 	,	3633	},
	{	98 	,	3568	},
	{	99 	,	3473	},
	{	100 	,	3324	},
	{	100 	,	3297	},
	{	100 	,	3285	},
	{	100 	,	3278	},
	{	100 	,	3275	},
	{	100 	,	3275	}

};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{	0 	,	4287	},
	{	1 	,	4267	},
	{	3 	,	4249	},
	{	4 	,	4232	},
	{	6 	,	4215	},
	{	7 	,	4198	},
	{	9 	,	4182	},
	{	10 	,	4166	},
	{	12 	,	4150	},
	{	13 	,	4135	},
	{	15 	,	4120	},
	{	16 	,	4105	},
	{	18 	,	4091	},
	{	19 	,	4077	},
	{	21 	,	4064	},
	{	22 	,	4051	},
	{	24 	,	4036	},
	{	25 	,	4023	},
	{	27 	,	4010	},
	{	28 	,	3999	},
	{	30 	,	3987	},
	{	31 	,	3976	},
	{	33 	,	3965	},
	{	34 	,	3954	},
	{	36 	,	3944	},
	{	37 	,	3932	},
	{	39 	,	3920	},
	{	40 	,	3907	},
	{	42 	,	3893	},
	{	43 	,	3879	},
	{	45 	,	3868	},
	{	46 	,	3858	},
	{	48 	,	3849	},
	{	49 	,	3841	},
	{	51 	,	3834	},
	{	52 	,	3827	},
	{	54 	,	3821	},
	{	55 	,	3816	},
	{	57 	,	3809	},
	{	58 	,	3805	},
	{	60 	,	3800	},
	{	61 	,	3796	},
	{	63 	,	3791	},
	{	64 	,	3787	},
	{	66 	,	3784	},
	{	67 	,	3781	},
	{	69 	,	3777	},
	{	70 	,	3773	},
	{	71 	,	3763	},
	{	73 	,	3754	},
	{	74 	,	3748	},
	{	76 	,	3742	},
	{	77 	,	3736	},
	{	79 	,	3730	},
	{	80 	,	3726	},
	{	82 	,	3720	},
	{	83 	,	3713	},
	{	85 	,	3705	},
	{	86 	,	3698	},
	{	88 	,	3689	},
	{	89 	,	3677	},
	{	91 	,	3671	},
	{	92 	,	3666	},
	{	94 	,	3659	},
	{	95 	,	3644	},
	{	97 	,	3601	},
	{	98 	,	3530	},
	{	100 	,	3428	},
	{	100 	,	3288	},
	{	100 	,	3273	},
	{	100 	,	3266	},
	{	100 	,	3263	},
	{	100 	,	3263	},
	{	100 	,	3263	}
	
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0},
    {0, 0}
	
};   
#endif
/////////////////////////////////////////////////////////////////////
// <Rbat, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

#ifndef VENDOR_EDIT
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{358 , 4193},
	{513 , 4174},
	{520 , 4157},
	{523 , 4140},
	{528 , 4124},
	{533 , 4109},
	{530 , 4093},
	{538 , 4081},
	{540 , 4068},
	{540 , 4051},
	{543 , 4031},
	{538 , 4010},
	{538 , 3993},
	{538 , 3980},
	{538 , 3968},
	{533 , 3956},
	{530 , 3945},  
	{523 , 3933}, 
	{518 , 3921},
	{515 , 3909},
	{513 , 3898},  
	{513 , 3887},
	{510 , 3877},
	{510 , 3867},
	{508 , 3858},
	{510 , 3850},
	{510 , 3842},
	{510 , 3834},
	{510 , 3827},
	{515 , 3821},
	{518 , 3815},
	{520 , 3809},
	{523 , 3804},
	{525 , 3798},
	{528 , 3794},
	{530 , 3789},
	{535 , 3785},
	{535 , 3781},
	{538 , 3777},
	{540 , 3774},
	{543 , 3771},
	{545 , 3769},
	{548 , 3766},
	{545 , 3763},
	{548 , 3759},
	{548 , 3755},
	{550 , 3751},
	{555 , 3747},
	{555 , 3742},
	{558 , 3736},
	{563 , 3730},
	{563 , 3722},  
	{573 , 3715},
	{585 , 3709},
	{610 , 3704},
	{643 , 3698},
	{698 , 3690},
	{775 , 3673},
	{898 , 3639},
	{1180, 3585},
	{1353, 3540},
	{1280, 3512},
	{1228, 3489},
	{1180, 3469},
	{1143, 3451},
	{1105, 3437},
	{1070, 3424},
	{1050, 3412},
	{1023, 3402},
	{990 , 3392},
	{965 , 3384},
	{943 , 3376},
	{933 , 3369},
	{918 , 3363},
	{905 , 3357},
	{900 , 3350},
	{878 , 3345},
	{855 , 3340},
	{855 , 3337},
	{840 , 3332},
	{860 , 3332}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{260, 4198},
	{320, 4179},
	{328, 4162},
	{330, 4145},
	{335, 4129},
	{340, 4114},
	{343, 4098},
	{345, 4084},
	{353, 4072},
	{355, 4058},
	{358, 4040},
	{358, 4021},
	{360, 4005},
	{360, 3992},
	{363, 3981},
	{363, 3970},
	{360, 3958},  
	{360, 3947}, 
	{355, 3934},
	{345, 3920},
	{343, 3908},  
	{340, 3896},
	{333, 3884},
	{328, 3873},
	{325, 3863},
	{325, 3854},
	{325, 3846},
	{325, 3838},
	{323, 3830},
	{325, 3824},
	{328, 3818},
	{328, 3812},
	{333, 3807},
	{333, 3802},
	{333, 3797},
	{335, 3793},
	{340, 3789},
	{338, 3785},
	{343, 3782},
	{343, 3779},
	{343, 3776},
	{343, 3773},
	{348, 3771},
	{345, 3768},
	{343, 3764},
	{348, 3762},
	{345, 3757},
	{348, 3753},
	{350, 3749},
	{350, 3743},
	{350, 3736},
	{353, 3730},  
	{353, 3722},
	{353, 3713},
	{353, 3704},
	{360, 3698},
	{380, 3694},
	{410, 3688},
	{445, 3673},
	{465, 3627},
	{545, 3549},
	{848, 3425},
	{880, 3350},
	{773, 3305},
	{703, 3275},
	{648, 3253},
	{608, 3238},
	{578, 3224},
	{555, 3215},
	{525, 3205},
	{510, 3199},
	{488, 3194},
	{488, 3188},
	{468, 3183},
	{460, 3180},
	{463, 3174},
	{450, 3170},
	{453, 3166},
	{420, 3164},
	{423, 3164},
	{428, 3164}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{158, 4184},
	{160, 4166},
	{163, 4150},
	{165, 4136},
	{168, 4122},
	{170, 4109},
	{170, 4095},
	{173, 4082},
	{173, 4070},
	{175, 4058},
	{178, 4046},
	{178, 4033},
	{180, 4021},
	{183, 4009},
	{185, 3999},
	{185, 3988},
	{190, 3979},  
	{193, 3969}, 
	{193, 3959},
	{195, 3950},
	{198, 3941},  
	{198, 3932},
	{195, 3923},
	{195, 3913},
	{198, 3904},
	{195, 3893},
	{185, 3880},
	{175, 3867},
	{168, 3855},
	{160, 3846},
	{158, 3838},
	{155, 3831},
	{153, 3824},
	{155, 3819},
	{158, 3814},
	{160, 3810},
	{158, 3805},
	{160, 3801},
	{160, 3797},
	{158, 3793},
	{158, 3789},
	{160, 3786},
	{160, 3783},
	{163, 3780},
	{165, 3778},
	{163, 3775},
	{165, 3773},
	{163, 3770},
	{163, 3767},
	{155, 3761},
	{155, 3757},
	{155, 3752},  
	{153, 3746},
	{153, 3741},
	{155, 3737},
	{155, 3733},
	{158, 3729},
	{155, 3722},
	{153, 3715},
	{158, 3709},
	{158, 3702},
	{158, 3693},
	{153, 3684},
	{155, 3681},
	{163, 3678},
	{170, 3674},
	{175, 3663},
	{173, 3625},
	{180, 3564},
	{193, 3478},
	{223, 3343},
	{208, 3281},
	{165, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266},
	{170, 3266}     
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{138, 4188},
	{143, 4172},
	{143, 4156},
	{143, 4141},
	{143, 4126},
	{145, 4113},
	{145, 4099},
	{145, 4085},
	{145, 4073},
	{148, 4060},
	{148, 4048},
	{148, 4036},
	{150, 4024},
	{150, 4012},
	{150, 4001},
	{150, 3990},
	{153, 3980},  
	{153, 3969}, 
	{153, 3959},
	{155, 3949},
	{155, 3939},  
	{158, 3930},
	{163, 3922},
	{165, 3913},
	{165, 3903},
	{168, 3895},
	{168, 3886},
	{163, 3874},
	{155, 3860},
	{148, 3849},
	{145, 3839},
	{148, 3832},
	{148, 3825},
	{145, 3819},
	{145, 3813},
	{145, 3808},
	{145, 3803},
	{148, 3799},
	{150, 3796},
	{145, 3791},
	{148, 3788},
	{150, 3785},
	{153, 3782},
	{150, 3778},
	{155, 3776},
	{155, 3773},
	{155, 3770},
	{158, 3768},
	{155, 3764},
	{148, 3756},
	{140, 3746},
	{143, 3741},  
	{143, 3735},
	{143, 3729},
	{143, 3725},
	{143, 3720},
	{148, 3717},
	{145, 3712},
	{145, 3705},
	{145, 3698},
	{145, 3692},
	{148, 3685},
	{143, 3674},
	{145, 3669},
	{150, 3667},
	{153, 3663},
	{158, 3657},
	{153, 3634},
	{158, 3585},
	{160, 3515},
	{165, 3411},
	{183, 3273},
	{150, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260},
	{153, 3260} 
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};      
#else
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{	488 	,	4274	},
	{	530 	,	4229	},
	{	620 	,	4196	},
	{	643 	,	4174	},
	{	650 	,	4155	},
	{	658 	,	4138	},
	{	665 	,	4122	},
	{	668 	,	4106	},
	{	685 	,	4093	},
	{	703 	,	4078	},
	{	710 	,	4062	},
	{	708 	,	4045	},
	{	705 	,	4028	},
	{	705 	,	4013	},
	{	703 	,	3998	},
	{	698 	,	3984	},
	{	698 	,	3971	},
	{	698 	,	3959	},
	{	703 	,	3948	},
	{	700 	,	3936	},
	{	698 	,	3923	},
	{	700 	,	3912	},
	{	698 	,	3900	},
	{	698 	,	3888	},
	{	695 	,	3876	},
	{	700 	,	3866	},
	{	703 	,	3856	},
	{	700 	,	3846	},
	{	703 	,	3837	},
	{	705 	,	3829	},
	{	713 	,	3822	},
	{	715 	,	3815	},
	{	720 	,	3810	},
	{	725 	,	3804	},
	{	725 	,	3798	},
	{	730 	,	3794	},
	{	733 	,	3789	},
	{	735 	,	3785	},
	{	743 	,	3782	},
	{	748 	,	3779	},
	{	755 	,	3776	},
	{	763 	,	3773	},
	{	770 	,	3770	},
	{	775 	,	3766	},
	{	788 	,	3763	},
	{	798 	,	3759	},
	{	805 	,	3753	},
	{	818 	,	3748	},
	{	830 	,	3742	},
	{	843 	,	3734	},
	{	863 	,	3727	},
	{	880 	,	3717	},
	{	908 	,	3708	},
	{	940 	,	3697	},
	{	985 	,	3684	},
	{	1043 	,	3670	},
	{	1118 	,	3655	},
	{	1118 	,	3646	},
	{	1105 	,	3641	},
	{	1090 	,	3636	},
	{	1080 	,	3632	},
	{	1068 	,	3627	},
	{	1058 	,	3623	},
	{	1053 	,	3619	},
	{	1045 	,	3615	},
	{	1035 	,	3611	},
	{	1020 	,	3607	},
	{	1015 	,	3603	},
	{	1008 	,	3600	},
	{	995 	,	3597	},
	{	990 	,	3593	},
	{	975 	,	3589	},
	{	970 	,	3587	},
	{	505 	,	3400	}

};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{	350 	,	4270	},
	{	358 	,	4245	},
	{	365 	,	4226	},
	{	375 	,	4209	},
	{	373 	,	4190	},
	{	375 	,	4174	},
	{	378 	,	4158	},
	{	383 	,	4143	},
	{	383 	,	4128	},
	{	385 	,	4113	},
	{	385 	,	4098	},
	{	390 	,	4085	},
	{	400 	,	4071	},
	{	405 	,	4056	},
	{	405 	,	4040	},
	{	403 	,	4025	},
	{	403 	,	4011	},
	{	398 	,	3996	},
	{	395 	,	3983	},
	{	393 	,	3971	},
	{	393 	,	3960	},
	{	393 	,	3949	},
	{	390 	,	3937	},
	{	393 	,	3926	},
	{	388 	,	3913	},
	{	385 	,	3901	},
	{	385 	,	3890	},
	{	383 	,	3878	},
	{	378 	,	3867	},
	{	383 	,	3858	},
	{	383 	,	3849	},
	{	378 	,	3840	},
	{	380 	,	3833	},
	{	380 	,	3826	},
	{	383 	,	3820	},
	{	383 	,	3813	},
	{	390 	,	3809	},
	{	390 	,	3803	},
	{	393 	,	3798	},
	{	395 	,	3794	},
	{	395 	,	3789	},
	{	403 	,	3786	},
	{	405 	,	3783	},
	{	405 	,	3780	},
	{	408 	,	3777	},
	{	413 	,	3775	},
	{	415 	,	3773	},
	{	423 	,	3771	},
	{	418 	,	3766	},
	{	418 	,	3761	},
	{	423 	,	3756	},
	{	423 	,	3750	},
	{	428 	,	3744	},
	{	433 	,	3739	},
	{	435 	,	3730	},
	{	445 	,	3722	},
	{	450 	,	3711	},
	{	465 	,	3701	},
	{	480 	,	3687	},
	{	503 	,	3673	},
	{	543 	,	3662	},
	{	608 	,	3650	},
	{	713 	,	3632	},
	{	915 	,	3597	},
	{	903 	,	3560	},
	{	838 	,	3534	},
	{	785 	,	3513	},
	{	745 	,	3497	},
	{	710 	,	3484	},
	{	685 	,	3472	},
	{	665 	,	3462	},
	{	643 	,	3454	},
	{	623 	,	3448	},
	{	510 	,	3400	}
   
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{	190 	,	4298	},
	{	193 	,	4276	},
	{	193 	,	4257	},
	{	190 	,	4238	},
	{	190 	,	4221	},
	{	193 	,	4205	},
	{	190 	,	4188	},
	{	190 	,	4172	},
	{	193 	,	4157	},
	{	195 	,	4142	},
	{	195 	,	4126	},
	{	195 	,	4111	},
	{	200 	,	4097	},
	{	200 	,	4083	},
	{	200 	,	4070	},
	{	205 	,	4056	},
	{	205 	,	4042	},
	{	205 	,	4027	},
	{	208 	,	4013	},
	{	210 	,	4001	},
	{	208 	,	3989	},
	{	210 	,	3978	},
	{	213 	,	3968	},
	{	213 	,	3957	},
	{	213 	,	3946	},
	{	208 	,	3933	},
	{	210 	,	3922	},
	{	200 	,	3909	},
	{	198 	,	3896	},
	{	190 	,	3883	},
	{	185 	,	3872	},
	{	183 	,	3861	},
	{	183 	,	3852	},
	{	180 	,	3844	},
	{	180 	,	3836	},
	{	180 	,	3829	},
	{	183 	,	3824	},
	{	183 	,	3818	},
	{	185 	,	3812	},
	{	188 	,	3807	},
	{	190 	,	3803	},
	{	193 	,	3798	},
	{	195 	,	3794	},
	{	193 	,	3790	},
	{	198 	,	3787	},
	{	200 	,	3784	},
	{	198 	,	3780	},
	{	198 	,	3777	},
	{	200 	,	3774	},
	{	193 	,	3768	},
	{	193 	,	3761	},
	{	190 	,	3755	},
	{	190 	,	3749	},
	{	190 	,	3744	},
	{	190 	,	3739	},
	{	190 	,	3734	},
	{	193 	,	3728	},
	{	193 	,	3720	},
	{	190 	,	3712	},
	{	193 	,	3704	},
	{	193 	,	3692	},
	{	195 	,	3682	},
	{	198 	,	3677	},
	{	205 	,	3671	},
	{	213 	,	3661	},
	{	215 	,	3633	},
	{	223 	,	3568	},
	{	250 	,	3473	},
	{	310 	,	3324	},
	{	245 	,	3297	},
	{	215 	,	3285	},
	{	203 	,	3278	},
	{	193 	,	3275	},
	{	193 	,	3275	}

}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{	145	,	4287	},
	{	145	,	4267	},
	{	145	,	4249	},
	{	145	,	4232	},
	{	145	,	4215	},
	{	145	,	4198	},
	{	145	,	4182	},
	{	145	,	4166	},
	{	148	,	4150	},
	{	150	,	4135	},
	{	150	,	4120	},
	{	153	,	4105	},
	{	153	,	4091	},
	{	158	,	4077	},
	{	160	,	4064	},
	{	163	,	4051	},
	{	160	,	4036	},
	{	163	,	4023	},
	{	165	,	4010	},
	{	168	,	3999	},
	{	168	,	3987	},
	{	170	,	3976	},
	{	170	,	3965	},
	{	170	,	3954	},
	{	173	,	3944	},
	{	173	,	3932	},
	{	170	,	3920	},
	{	168	,	3907	},
	{	160	,	3893	},
	{	153	,	3879	},
	{	153	,	3868	},
	{	153	,	3858	},
	{	150	,	3849	},
	{	148	,	3841	},
	{	148	,	3834	},
	{	148	,	3827	},
	{	150	,	3821	},
	{	150	,	3816	},
	{	148	,	3809	},
	{	153	,	3805	},
	{	153	,	3800	},
	{	155	,	3796	},
	{	153	,	3791	},
	{	155	,	3787	},
	{	155	,	3784	},
	{	160	,	3781	},
	{	160	,	3777	},
	{	160	,	3773	},
	{	150	,	3763	},
	{	145	,	3754	},
	{	150	,	3748	},
	{	153	,	3742	},
	{	150	,	3736	},
	{	148	,	3730	},
	{	150	,	3726	},
	{	148	,	3720	},
	{	148	,	3713	},
	{	148	,	3705	},
	{	150	,	3698	},
	{	150	,	3689	},
	{	148	,	3677	},
	{	150	,	3671	},
	{	153	,	3666	},
	{	158	,	3659	},
	{	158	,	3644	},
	{	158	,	3601	},
	{	168	,	3530	},
	{	185	,	3428	},
	{	225	,	3288	},
	{	185	,	3273	},
	{	170	,	3266	},
	{	160	,	3263	},
	{	160	,	3263	},
	{	160	,	3263	}

}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	{0, 0},
    {0, 0}
   
};   
#endif


int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

//#define CONFIG_POWER_VERIFY